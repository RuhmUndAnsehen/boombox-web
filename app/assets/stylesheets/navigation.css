/*
 *= require_self
 *= require lib/navigation/height-transition.css
 *= require lib/navigation/menu-items.css
 */

.nav-bar, .nav-menu {
  --vpadding: var(--wide-margin);

  padding: var(--vpadding) 0;

  background-color: var(--bg-color-base);
}

/* Closed submenus have zero vertical padding... */
.nav-item .nav-menu {
  --vpadding: 0;
}

/* ... but opened do. */
.nav-item:is(.current-controller, .current-page, :hover, :focus, :focus-within)
    .nav-menu {
  --vpadding: var(--small-margin);
}

.nav-item:last-child .nav-menu {
  padding-bottom: 0;
}

/* We disabled anchor tag transitions in Firefox due to a decade old bug, but
 * the conditions aren't there in menus, so we're activating them again. */
:is(.nav-bar, .nav-menu) a {
  --link-color: var(--link-color-visited);

  transition-property: inherit;
}
